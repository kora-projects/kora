dependencies {
    api libs.micrometer.core
    api libs.micrometer.registry.prometheus
    api libs.opentelemetry.api
    api libs.opentelemetry.micrometer.meter.provider
    api project(":telemetry:telemetry-common")

    annotationProcessor project(':config:config-annotation-processor')

    compileOnly project(':resilient:resilient-kora')
}

compileJava {
    options.compilerArgs = [
        '--add-reads', 'kora.micrometer.module=ALL-UNNAMED', // opentelemetry micrometer meter provider
    ]
}

javadoc {
    options {
        optionFiles file('javadoc.options')
    }
}
